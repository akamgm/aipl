#!/usr/bin/env bin/aipl

!format

gpt-3.5-turbo
#gpt-4

!split>model

!ravel

# write commit msg for git diff
!sh git diff --cached
!format
Add a commit subject and message that explains the following commit.
Keep same exact commit format, as it will be piped directly into git.
Be terse.

"""
{_}
"""

!llm model={model}
!print

!format
{_}

[Commit message generated by {model}]

!join sep=\n\n

!shtty git commit -v -m {_} --edit
