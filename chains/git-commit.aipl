#!/usr/bin/env bin/aipl

!format

gpt-3.5-turbo
#gpt-4

!split

!unravel>model

# write commit msg for git diff
!sh git diff --cached
!format
Add a commit subject and message that explains the following commit.
Keep same exact commit format, as it will be piped directly into git.
Be terse.

"""
{input}
"""

!llm model={model}
!print

!format
{input}

[Commit message generated by {model}]

!join sep=\n\n

!shtty git commit -m {input} --edit
